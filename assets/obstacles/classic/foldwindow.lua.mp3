function init()
	beat = mgGetFloat("beat", 7)
	side = mgGetBool("side", false)
	w = mgGetFloat("w", 3)
	angle = mgGetFloat("angle", -math.pi/2)

	mgMaterial("steel")	
	mgMask(0)

	if side then
		b = mgCreateBody(0, 0.1, 0, 0, 0, angle)
		mgCreateBox(b, 0.05, 0.1, w/2)
	else
		b = mgCreateBody(0, 0.1, 0, angle, 0, 0)
		mgCreateBox(b, w/2, 0.1, 0.05)
	end

	mgMaterial("glass")
	mgColor(1, 1, 0.5)

	if side then
		mgCreateBox(b, 0.04, 0.9, w/2, 0, 1, 0)
		mgCreateHingeJoint(b, 0, 0, 0, 0, 0, 0, 1)
		mgRotate(b, 0, 0, angle, 100, 7)
	else
		mgCreateBox(b, w/2, 0.9, 0.04, 0, 1, 0)
		mgCreateHingeJoint(b, 0, 0, 0, 0, 1, 0, 0)
		mgRotate(b, angle, 0, 0, 100, 7)
	end
	
	done = false
end

function tick()
	if mgGetBeatFloat(0.25) > beat and not done then
		mgRotate(b, 0, 0, 0, 100, 7)
		done = true
	end
end

